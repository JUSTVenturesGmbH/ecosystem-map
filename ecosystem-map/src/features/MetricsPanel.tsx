import React, { PropsWithChildren } from "react";
import { ProjectInfo } from "types";

function TwitterLogo() {
  return (
    <svg
      version="1.1"
      viewBox="0 0 16 16"
      height="15"
      width="15"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M16 3.538c-0.588 0.263-1.222 0.438-1.884 0.516 0.678-0.406 1.197-1.050 1.444-1.816-0.634 0.375-1.338 0.65-2.084 0.797-0.6-0.638-1.453-1.034-2.397-1.034-1.813 0-3.281 1.469-3.281 3.281 0 0.256 0.028 0.506 0.084 0.747-2.728-0.138-5.147-1.444-6.766-3.431-0.281 0.484-0.444 1.050-0.444 1.65 0 1.138 0.578 2.144 1.459 2.731-0.538-0.016-1.044-0.166-1.488-0.409 0 0.013 0 0.028 0 0.041 0 1.591 1.131 2.919 2.634 3.219-0.275 0.075-0.566 0.116-0.866 0.116-0.212 0-0.416-0.022-0.619-0.059 0.419 1.303 1.631 2.253 3.066 2.281-1.125 0.881-2.538 1.406-4.078 1.406-0.266 0-0.525-0.016-0.784-0.047 1.456 0.934 3.181 1.475 5.034 1.475 6.037 0 9.341-5.003 9.341-9.341 0-0.144-0.003-0.284-0.009-0.425 0.641-0.459 1.197-1.038 1.637-1.697z" />
    </svg>
  );
}

function DiscordLogo() {
  return (
    <svg
      version="1.1"
      viewBox="0 0 127.14 96.36"
      height="15"
      width="15"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"/>
      </svg>
  );
}

function GithubLogo() {
  return (
    <svg
      version="1.1"
      viewBox="0 0 16 16"
      height="15"
      width="15"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M8 0.198c-4.418 0-8 3.582-8 8 0 3.535 2.292 6.533 5.471 7.591 0.4 0.074 0.547-0.174 0.547-0.385 0-0.191-0.008-0.821-0.011-1.489-2.226 0.484-2.695-0.944-2.695-0.944-0.364-0.925-0.888-1.171-0.888-1.171-0.726-0.497 0.055-0.486 0.055-0.486 0.803 0.056 1.226 0.824 1.226 0.824 0.714 1.223 1.872 0.869 2.328 0.665 0.072-0.517 0.279-0.87 0.508-1.070-1.777-0.202-3.645-0.888-3.645-3.954 0-0.873 0.313-1.587 0.824-2.147-0.083-0.202-0.357-1.015 0.077-2.117 0 0 0.672-0.215 2.201 0.82 0.638-0.177 1.322-0.266 2.002-0.269 0.68 0.003 1.365 0.092 2.004 0.269 1.527-1.035 2.198-0.82 2.198-0.82 0.435 1.102 0.162 1.916 0.079 2.117 0.513 0.56 0.823 1.274 0.823 2.147 0 3.073-1.872 3.749-3.653 3.947 0.287 0.248 0.543 0.735 0.543 1.481 0 1.070-0.009 1.932-0.009 2.195 0 0.213 0.144 0.462 0.55 0.384 3.177-1.059 5.466-4.057 5.466-7.59 0-4.418-3.582-8-8-8z" />
    </svg>
  );
}

function PolkadotLogo() {
  return (
    <svg width="15" height="15" viewBox="0 0 254 246" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M127.287 52.1521C151.391 52.1521 170.93 40.6431 170.93 26.4462C170.93 12.2492 151.391 0.740234 127.287 0.740234C103.184 0.740234 83.644 12.2492 83.644 26.4462C83.644 40.6431 103.184 52.1521 127.287 52.1521Z" fill="#FF2670"/>
      <path d="M127.287 245.74C151.391 245.74 170.93 234.231 170.93 220.034C170.93 205.837 151.391 194.328 127.287 194.328C103.184 194.328 83.644 205.837 83.644 220.034C83.644 234.231 103.184 245.74 127.287 245.74Z" fill="#FF2670"/>
      <path d="M66.4582 87.6934C78.5099 66.5654 78.435 43.6848 66.2908 36.5881C54.1466 29.4915 34.5319 40.866 22.4802 61.994C10.4285 83.1219 10.5035 106.003 22.6477 113.099C34.7919 120.196 54.4065 108.821 66.4582 87.6934Z" fill="#FF2670"/>
      <path d="M232.112 184.487C244.164 163.359 244.086 140.477 231.939 133.379C219.792 126.28 200.175 137.653 188.123 158.781C176.071 179.909 176.149 202.791 188.296 209.89C200.443 216.988 220.06 205.615 232.112 184.487Z" fill="#FF2670"/>
      <path d="M66.2915 209.897C78.4388 202.798 78.5162 179.916 66.4645 158.788C54.4128 137.66 34.7957 126.287 22.6484 133.386C10.5011 140.484 10.4236 163.366 22.4754 184.494C34.5271 205.622 54.1442 216.995 66.2915 209.897Z" fill="#FF2670"/>
      <path d="M231.935 113.094C244.082 105.996 244.16 83.1138 232.108 61.9859C220.056 40.8579 200.439 29.4848 188.292 36.5833C176.145 43.6818 176.067 66.5639 188.119 87.6918C200.171 108.82 219.788 120.193 231.935 113.094Z" fill="#FF2670"/>
    </svg>
  );
}

// function BlogLogo() {
//   return (
//     <svg version="1.1" viewBox="0 0 975 725" height="15" width="15">
//       <path d="M320 320H192c-64 0-64 64-64 64h256C384 384 384 320 320 320zM320 448H192c-64 0-64 64-64 64h256C384 512 384 448 320 448zM320 576H192c-64 0-64 64-64 64h256C384 640 384 576 320 576zM768 320H640c-64 0-64 64-64 64h256C832 384 832 320 768 320zM768 448H640c-64 0-64 64-64 64h256C832 512 832 448 768 448zM768 576H640c-64 0-64 64-64 64h256C832 640 832 576 768 576zM608 160c-64 0-128 64-128 64s-64-64-128-64C192 160 0 224 0 224v608l448-32c0 0-1.281 32 31.375 32C512 832 512 800 512 800l448 32V224C960 224 768 160 608 160zM448 768c0 0 1.031-64-64-64-193.031 0-320 64-320 64V256c0 0 128-32 256-32 64 0 128 64 128 64V768zM896 736c0 0-97-32-320-32-62 0-64 64-64 64V288c0 0 64-64 128-64 128 0 256 64 256 64V736z" />
//     </svg>
//   );
// }

// function YoutubeLogo() {
//   return (
//     <svg version="1.1"  viewBox="0 0 310 310" height="15" width="15">
//      <path d="M297.917,64.645c-11.19-13.302-31.85-18.728-71.306-18.728H83.386c-40.359,0-61.369,5.776-72.517,19.938 C0,79.663,0,100.008,0,128.166v53.669c0,54.551,12.896,82.248,83.386,82.248h143.226c34.216,0,53.176-4.788,65.442-16.527
// 		C304.633,235.518,310,215.863,310,181.835v-53.669C310,98.471,309.159,78.006,297.917,64.645z M199.021,162.41l-65.038,33.991
// 		c-1.454,0.76-3.044,1.137-4.632,1.137c-1.798,0-3.592-0.484-5.181-1.446c-2.992-1.813-4.819-5.056-4.819-8.554v-67.764
// 		c0-3.492,1.822-6.732,4.808-8.546c2.987-1.814,6.702-1.938,9.801-0.328l65.038,33.772c3.309,1.718,5.387,5.134,5.392,8.861
// 		C204.394,157.263,202.325,160.684,199.021,162.41z"/>
// </svg>
//   );
// }

// function MediumLogo() {
//   return (
//     <svg version="1.1"  viewBox="0 -55 256 256" height="15" width="15">
//      <path d="M72.2009141,1.42108547e-14 C112.076502,1.42108547e-14 144.399375,32.5485469 144.399375,72.6964154 C144.399375,112.844284 112.074049,145.390378 72.2009141,145.390378 C32.327779,145.390378 0,112.844284 0,72.6964154 C0,32.5485469 32.325326,1.42108547e-14 72.2009141,1.42108547e-14 Z M187.500628,4.25836743 C207.438422,4.25836743 223.601085,34.8960455 223.601085,72.6964154 L223.603538,72.6964154 C223.603538,110.486973 207.440875,141.134463 187.503081,141.134463 C167.565287,141.134463 151.402624,110.486973 151.402624,72.6964154 C151.402624,34.9058574 167.562834,4.25836743 187.500628,4.25836743 Z M243.303393,11.3867175 C250.314,11.3867175 256,38.835526 256,72.6964154 C256,106.547493 250.316453,134.006113 243.303393,134.006113 C236.290333,134.006113 230.609239,106.554852 230.609239,72.6964154 C230.609239,38.837979 236.292786,11.3867175 243.303393,11.3867175 Z" fill="#000000" />
// </svg>
//   );
// }

// function AppLogo() {
//   return (
//     <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="15px" width="15px" version="1.1" viewBox="0 0 512 512">
//       <g>
//         <g>
//           <path d="M410.8,12H103.2C74.4,12,51,35.5,51,64.3v385.4c0,28.9,23.4,52.3,52.2,52.3h307.5c28.8,0,52.2-23.5,52.2-52.3V64.3    C463,35.5,439.6,12,410.8,12z M422.2,449.7c0,6.3-5.1,11.5-11.5,11.5H103.2c-6.3,0-11.5-5.2-11.5-11.5V64.3    c0-6.3,5.1-11.5,11.5-11.5h307.5c6.3,0,11.5,5.2,11.5,11.5V449.7z"/>
//           <path d="m315.7,209.7c-9.4-6.2-22-3.6-28.3,5.8l-10,15.2v-114.9c0-11.3-9.1-20.4-20.4-20.4-11.3,0-20.4,9.1-20.4,20.4v114.9l-10-15.2c-6.2-9.4-18.9-12-28.3-5.8-9.4,6.2-12,18.9-5.8,28.3l47.4,71.9c3.8,5.7 10.2,9.2 17,9.2 6.8,0 13.2-3.4 17-9.2l47.4-71.9c6.4-9.4 3.8-22.1-5.6-28.3z"/>
//           <path d="m272.7,401.2h-31.4c-11.3,0-20.4,9.1-20.4,20.4s9.1,20.4 20.4,20.4h31.4c11.3,0 20.4-9.1 20.4-20.4s-9.1-20.4-20.4-20.4z"/>
//         </g>
//       </g>
//     </svg>
//   )
// }

interface ExternalLinkProps {
  href: string | undefined;
}

export function ExternalLink({ href, children }: PropsWithChildren<ExternalLinkProps>) {
  if (!href) {
    return null;
  }

  const isEmail = href.includes('@');

  const addr = isEmail ? `mailto:${href}` : href;

  return (
    <a href={addr} target="_blank" rel="noopener noreferrer">
      {children}
    </a>
  );
}


export default function Metrics({ project }: { project: ProjectInfo }) {
  const github = React.useMemo(
    () =>
      project.metrics?.github?.length
        ? project.metrics.github[0]?.value
        : undefined,
    [project.metrics?.github],
  );

  return (
    <div style={{display: 'flex', alignItems: 'center', gap: '3rem'}}>
      <ExternalLink href={project.web.blog}>üìñ</ExternalLink>
      {/* <ExternalLink href={project.web.person}>üë§</ExternalLink> */}
      <ExternalLink href={project.web.contact}>‚úâÔ∏è</ExternalLink>
      <ExternalLink href={project.web.twitter ? `https://x.com/${project.web.twitter}` : undefined}>
        <TwitterLogo />{/* twitter ?? "‚Äî" */}
      </ExternalLink>
      <ExternalLink href={project.web.discord}><DiscordLogo />{/* discord ?? "‚Äî" */}</ExternalLink>
      <ExternalLink href={project.web.github}>
        <span style={{display: 'flex', alignItems: 'center'}} ><GithubLogo />‚≠ê {github}</span>
      </ExternalLink>
      {project.treasury_funded ? (
        <span style={{display: 'flex', alignItems: 'center', fontSize: '10px'}}>
          <PolkadotLogo />&nbsp;&nbsp;
          <span>Funded by<br />treasury</span>
        </span>) : undefined}
    </div>
  );
}
